<!-- <body style='margin:0;padding:0;'><iframe width="100%" height="100%" src="https://www.youtube.com/embed/y8XvQNt26KI?autoplay=1" frameborder="0" autoplay allowfullscreen></iframe></body> -->

<html>
<head>
<title>Mini YT Player</title>
<script src="https://kit.fontawesome.com/a076d05399.js"></script>
<style>
	body{
	margin:0;
	padding:0;
	overflow: hidden;
	}

	.lrContainer{
		font-size: 60px;
		color: #222;
		text-align: center;
		position: absolute;
		width:80px;
		height:80px;
		border-radius: 50%;
		background-color: white;
		padding-top: 10px;
		overflow: hidden;
		box-sizing: border-box;
		box-shadow: -2px 10px 20px 1px #222, 1px 1px 10px 1px #222;
		top: 50vh;
		transform: translateY(-50%);
		cursor: pointer;
		z-index: 1000;
	}
	
	#lContainer{
		left: 5%;
		transition: 300ms;
	}
	#rContainer{
		right: 5%;
		transition: 300ms;
	}
	
	#mContainer{
	position:absolute;
	width:100%;
	height:100vh;}
	
	#btnContainer{
		position: absolute;
		top: calc(100vh - 65px);
		left: 50%;
		width: 225px;
		height: 50px;
		border-radius: 50px;
		background-color: transparent;
		transform: translateX(-50%);
		z-index: 1000;
		overflow: hidden;
		transition: 300ms;
		box-shadow: -2px 10px 20px 1px #222, 1px 1px 10px 1px #222;
	}
	
	.btns{
		font-size: 30px;
		text-align: center;
		padding-top: 10px;
		cursor: pointer;
		width: 33.33%;
		height: 100%;
		color: #333;
		background-color: white;
		box-sizing: border-box;
	}
	
	.btns:first-child{float:left;}
	.btns:nth-child(2){float:middle; border-left: 1px solid grey; border-right: 1px solid grey;}
	.btns:last-child{float:right;}
	
	.btns:hover, .lrContainer:hover{
		background-color: rgba(255,255,255,0.3);
		color: red;
	}
</style>

</head>
<body onmouseenter="hideUnhide('unhide');" onmouseleave="hideUnhide('hide');">
	<div id='btnContainer'>
		<div class='btns fas fa-sync-alt' onclick='vload();'></div>
		<div class='btns fas fa-stop' onclick='player.stopVideo();'></div>
		<div class='btns fas fa-redo-alt' onclick='player.seekTo(0,true);'></div>
	</div>
	<div id='rContainer' class='lrContainer fas fa-forward' title='+10s forward' oncontextmenu='event.preventDefault(); player.nextVideo();' onclick="player.seekTo(player.getCurrentTime() + 10, true);"></div>
	<div id='lContainer' class='lrContainer fas fa-backward'  title='-10s backward' oncontextmenu='event.preventDefault(); player.previousVideo();' onclick='player.seekTo(player.getCurrentTime() - 10, true);'></div>
	<div id='mContainer' ondrop="drop(event)" ondragover="allowDrop(event)" onclick='vpp();'></div>
	
	<div id="ytplayer"></div>
</body >

<script>
  // Load the IFrame Player API code asynchronously.
  var tag = document.createElement('script');
  tag.src = "https://www.youtube.com/player_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  // Replace the 'ytplayer' element with an <iframe> and
  // YouTube player after the API code downloads.
  var player;
  function onYouTubePlayerAPIReady() {
    player = new YT.Player('ytplayer', {
      height: '100%',
      width: '100%',
	  videoId:'LaQj636PJh0',
	  events: {
		'onReady': onPlayerReady
	  },
	  playerVars: {
		  autoplay: 1,
		  controls: 0,
		  disablekb: 1,
		  iv_load_policy: 3,
		  modestbranding: 1,
		  fs: 0,
		  playsinline: 0,
		  rel: 0,
		  enablejsapi: 1,
		  start: 0,
		  cc_load_policy: 0
	  }
    });
  }
  
  function onPlayerReady(event) {
    //event.target.pauseVideo();
  }
  
  var paused = true;
  function onPlayerStateChange(event) {
    //event.target.pauseVideo();
  }
  
  function vload(){
	  //alert("Click allow on the next popup otherwise I can't acces the clipboard.");
	  navigator.clipboard.readText()
	  .then(v => {
		  if(v != ''){
			//player.stopVideo();
			
			/* if (v.includes("list=")){
				var i = v.split('=');
				if(i.length>2)
				{player.loadPlaylist(i[2].substr(0,34), 'playlist', 5);
				paused = false;}
			}
			else{ */			
				var i = v.split('=');
				if(i.length>1) player.loadVideoById(i[1].substr(0,11));
				else{player.loadVideoById(v, 0);}
				paused = false;
			//}
		  }
	  })
	  .catch(err => {
		alert("Couldn't get video or playlist ID, I need a video link, a video ID, a playlist link or a playlist ID. Copy those and try again.");
	  });
  }
  
  function vpp()
  {if(player.videoId = '')return;
	if (paused == true)
	{
		player.playVideo();
	}
	else
	{
		player.pauseVideo();
	}
	paused = !paused;
  }
  
  function vstop(e){
  e.stopPropagation();
	player.stopVideo();
	//player.seekTo(60,true);
  }
  
  function hideUnhide(val){
	  if (val == 'hide'){
		btnContainer.style.top = '105vh';
		lContainer.style.left = '-85px';
		rContainer.style.right = '-85px';
	  }
	  else{
		btnContainer.style.top = 'calc(100vh - 65px)';
		lContainer.style.left = '5%';
		rContainer.style.right = '5%';
	  }
  }
  
  function vskip(){	  
	  /* if (e.clientX > skipFX) player.seekTo(player.getCurrentTime() + 10, true);
	  else if (e.clientX < skipBX) player.seekTo(player.getCurrentTime() - 10, true); */
  }
  
  function allowDrop(ev) {
	ev.preventDefault();
  }
	
	function drop(ev) {
		ev.preventDefault();
		var data = ev.dataTransfer.getData("text");
		
		try{
		var arr = data.split('=');
		if (arr[0]=="https://www.youtube.com/watch?v"){
			player.loadVideoById(arr[1], 0);
		}}
		catch(error){}
	}
</script>
</html>